
\newsection{ Running dynamics: \code{\MakeLowercase{hd}} }

Dynamics are computed using the program \code{hd}, short for Hamiltonian dynamics. 

\begin{bcomment}{Hamiltonian Dynamics}
Hamiltonian dynamics is a convenient formalism for propagating Newtonian dynamics with generalized variables (equivalent to constraints). Constraints and generalized variables (i.e., not necessary particle coordinate variables) are an essential feature of continuum membrane simulations, because the mesh is represented by control points and particles are frequently constrained to be on the membrane. The theory of Hamiltonian dynamics is discussed in~\cref{sec:hamilton}. 
\end{bcomment}

All arguments to \code{hd} are optional.
The first argument can be the name of an input file; this is the standard usage.
Subsequent arguments override simple input file directives:
\begin{command}
hd run.inp nsteps=10
\label{cmd:hd}
\end{command}


\newsubsection{Dynamics options and parameters }

The choice of timestep is critical for computing proper ensembles. 
If the timestep is too large, the system will be unstable and program execution will halt.
The option \code{timestep\_analysis=yes} provides a rough estimate of a proper timescale for dynamics.

\newsubsection{Input File}
The input file contains all of the initial information for the simulation to start. At a bare minimum this file must contain [] to be properly read into the program. [Explain why.] Additional parameters for further customization can be found in section 10. Below is an example input file of a [whatever type it is] simulation. \\ 

[picture of Example]

\newsubsection{Running from Input File}
Simulations are running using the \code{hd.opt} program, which [explain what it is]. It is located in the \code{UMCP/optimized} folder. \\

Ex: For an input file called \code{input.inp} located in \code{UMCP/examples/test}, the syntax for running the simulation is \\
\code{> ../../optimized/hd.opt input.inp}

\newsubsection{Simulation Output}
While the simulation is running, it will generate output at the beginning, and at each time step. 

[Describe output and variable meanings]

[Maybe insert picture of example output]


\newsubsection{Loading a simulation state}

Dynamics and minimization can be restarted by loading a save file.
The input syntax is \code{load <name.save>}:
\begin{command}
hd run.inp load=min.save
\end{command}
This command can be put in the input file as well.
Save files are generated at the end of minimization and dynamics.
At the end of minimization, the file \code{min.save} is generated.
At the end of a dynamics simulation, the file \code{jobName.save} is created, where \code{jobName} is the overall job name given in the input file.
The default for this name is \code{default}, so the default for the save file is \code{default.save}.




